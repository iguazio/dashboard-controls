<div class="ncl-function-collapsing-row items-wrapper">
    <div class="scrolling-row"></div>
    <div class="function-title-block common-table-row">
        <div class="common-table-cell function-row-collapse">
            <span data-ng-if="$ctrl.function.spec.version > -1"
                  class="collapse-icon"
                  data-ng-click="$ctrl.isCollapsed = !$ctrl.isCollapsed"
                  data-ng-class="{'collapsed igz-icon-right': $ctrl.isCollapsed, 'igz-icon-down': !$ctrl.isCollapsed}">
            </span>
        </div>

        <div class="igz-row common-table-cells-container"
             data-ng-click="$ctrl.onSelectRow($event)">
            <div class="igz-col-{{$ctrl.isDemoMode() ? '20' : '25'}} common-table-cell function-name">
                {{$ctrl.function.metadata.name}}
            </div>
            <div class="igz-col-20 common-table-cell"
                 data-uib-tooltip="{{$ctrl.function.spec.description}}"
                 data-tooltip-append-to-body="true"
                 data-tooltip-placement="top">
                <span class="description-content common-table-cell-content"
                      data-ng-bind="$ctrl.function.spec.description"
                      data-igz-multiline-ellipsis>
                </span>
            </div>
            <div class="igz-col-10 common-table-cell">
                {{$ctrl.convertedStatusState}}
                <div class="status-icon"
                     data-uib-tooltip="{{$ctrl.getTooltip()}}"
                     data-tooltip-append-to-body="true"
                     data-tooltip-placement="top"
                     data-ng-class="$ctrl.statusIcon"
                     data-ng-click="$ctrl.toggleFunctionState($event)">
                </div>
            </div>
            <div data-ng-if="$ctrl.isDemoMode()"
                 class="igz-col-10 common-table-cell">
                {{$ctrl.function.spec.replicas}}
            </div>
            <div data-ng-if="$ctrl.isDemoMode()"
                 class="igz-col-10 common-table-cell">
                {{$ctrl.function.spec.invocation || 0}}
            </div>
            <div class="igz-col-10 common-table-cell">
                {{$ctrl.runtimes[$ctrl.function.spec.runtime]}}
            </div>
            <div class="igz-col-{{$ctrl.isDemoMode() ? '10' : '25'}} common-table-cell"
                 data-uib-tooltip="{{$ctrl.invocationURL}}"
                 data-tooltip-append-to-body="true"
                 data-tooltip-placement="top">
                <span class="common-table-cell-content">{{$ctrl.invocationURL}}</span>
            </div>
            <div data-ng-if="$ctrl.isDemoMode()"
                 class="igz-col-10 common-table-cell">
                {{$ctrl.function.attr.last_modified | date:"MMM dd, yyyy"}}
            </div>
        </div>

        <div class="common-table-cell actions-menu">
            <igz-action-menu data-actions="$ctrl.actions"
                             data-on-fire-action="$ctrl.onFireAction">
            </igz-action-menu>
        </div>
    </div>
    <div class="items-wrapper" data-uib-collapse="$ctrl.isCollapsed">
        <div data-ng-repeat="version in $ctrl.function.versions">
            <ncl-function-version-row class="function-version-wrapper"
                                      data-version="version"
                                      data-function="$ctrl.function"
                                      data-project="$ctrl.project"
                                      data-versions-list="$ctrl.function.attr.versions"
                                      data-action-handler-callback="$ctrl.handleAction(actionType, checkedItems)">
            </ncl-function-version-row>
        </div>
    </div>
</div>
