<div class="close-button igz-icon-close" data-ng-click="$ctrl.onClose()"></div>

<div class="title">
    {{ 'functions:DUPLICATE_FUNCTION' | i18next }}
</div>

<div class="main-content">
    <form name="$ctrl.duplicateFunctionForm" novalidate data-ng-keydown="$ctrl.duplicateFunction($event)">
        <div class="field-group function-name-group">
            <div class="field-label function-name-label">
                {{ 'common:FUNCTION_NAME' | i18next }}
            </div>
            <div class="field-input function-name-input">
                <igz-validating-input-field data-field-type="input"
                                            data-input-name="name"
                                            data-input-value="$ctrl.newFunctionName"
                                            data-is-focused="true"
                                            data-form-object="$ctrl.duplicateFunctionForm"
                                            data-update-data-callback="$ctrl.inputValueCallback(newData, field)"
                                            data-validation-is-required="true"
                                            data-validation-rules="$ctrl.validationRules.functionName"
                                            data-validation-max-length="{{$ctrl.maxLengths.functionName}}"
                                            data-placeholder-text="{{ 'functions:PLACEHOLDER.ENTER_FUNCTION_NAME' | i18next }}">
                </igz-validating-input-field>
            </div>
        </div>

        <div class="subtitle" data-ng-if="$ctrl.duplicateInputFieldsData.length > 0">
            {{ 'functions:DUPLICATE_FUNCTION_SUBTITLE' | i18next }}
        </div>

        <div class="field-group" data-ng-repeat="inputFieldData in $ctrl.duplicateInputFieldsData track by inputFieldData.path">
            <div class="field-label function-configuration-label">
                {{inputFieldData.title}}
                <igz-more-info data-ng-if="inputFieldData.moreInfoData"
                               data-description="{{inputFieldData.moreInfoData}}"
                               data-default-tooltip-placement="top">
                </igz-more-info>
            </div>
            <div class="field-label function-configuration-path">
                {{ 'common:PATH' | i18next }}: {{inputFieldData.path}}
            </div>
            <div class="field-input function-configuration-input">
                <igz-validating-input-field data-field-type="input"
                                            data-input-name="{{inputFieldData.path}}"
                                            data-form-object="$ctrl.duplicateFunctionForm"
                                            data-update-data-callback="$ctrl.inputValueCallback(newData, field)"
                                            data-validation-is-required="true"
                                            data-placeholder-text="{{ 'functions:PLACEHOLDER.ENTER_VALUE' | i18next }}">
                </igz-validating-input-field>
            </div>
        </div>
    </form>
</div>

<div class="buttons">
    <button class="ncl-secondary-button igz-button-just-text"
            data-test-id="functions.duplicate_function_cancel.button"
            tabindex="0"
            data-ng-click="$ctrl.onClose()"
            data-ng-keydown="$ctrl.onClose($event)">
        {{ 'common:CANCEL' | i18next }}
    </button>
    <button class="ncl-primary-button igz-button-primary"
            data-test-id="functions.duplicate_function_duplicate.button"
            tabindex="0"
            data-ng-click="$ctrl.duplicateFunction()"
            data-ng-keydown="$ctrl.duplicateFunction($event)"
            data-ng-hide="$ctrl.isLoadingState">
        {{ 'common:DUPLICATE' | i18next }}
    </button>
    <button class="ncl-primary-button igz-button-primary" data-ng-show="$ctrl.isLoadingState">
        {{ 'common:LOADING_CAPITALIZE_ELLIPSIS' | i18next }}
    </button>
</div>
